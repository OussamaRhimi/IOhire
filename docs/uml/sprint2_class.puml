@startuml
title Sprint 2 - Class Diagram

skinparam classAttributeIconSize 0
skinparam shadowing false
skinparam linetype ortho
left to right direction

class HRUser <<Strapi Admin>> {
  +email: string
  +role: string
}

class Candidate {
  +id: int
  +fullName: string
  +email: email
  +linkedin: string
  +portfolio: string
  +resume: Media
  +status: ApplicationStatus
  +score: decimal
  +publicToken: string
  +consent: boolean
  +consentAt: datetime
  +retentionUntil: datetime
  +hrNotes: text
  +createdAt: datetime
  +updatedAt: datetime
}

class JobPosting {
  +id: int
  +title: string
  +status: JobPostingStatus
}

Candidate "*" --> "1" JobPosting : applies to >
HRUser "1" --> "0..*" Candidate : reviews >

enum ApplicationStatus {
  new
  processing
  processed
  reviewing
  shortlisted
  rejected
  hired
  error
}

enum JobPostingStatus {
  draft
  open
  closed
}

@enduml
