@startuml
title IOhire - Use Case Diagram
left to right direction
skinparam shadowing false
skinparam linetype ortho
skinparam usecaseBackgroundColor #f6f6f6
skinparam noteBackgroundColor #f9f3c8
skinparam noteBorderColor #8a8a8a

actor "HR User" as HR
actor Candidate as C
actor "AI Service (Ollama)" as AI

rectangle "IOhire System" {
  usecase "Secure Storage & GDPR Controls" as U_GDPR

  usecase "Manage & Review Candidates" as U_ManageCandidates
  usecase "Update Candidate Status" as U_UpdateStatus
  usecase "Add HR Note" as U_AddNote
  usecase "Download Candidate Resume" as U_DownloadResume

  usecase "Create / Manage Job Postings" as U_ManageJobs
  usecase "Define Job Posting & Requirements" as U_DefineReq
  usecase "View / Search / Filter Applications" as U_FilterApps

  usecase "Manage Skills Taxonomy" as U_ManageSkills
  usecase "Add Skill" as U_AddSkill
  usecase "Update Skill" as U_UpdateSkill
  usecase "Delete Skill" as U_DeleteSkill

  usecase "View Analytics Dashboard" as U_Dashboard
  usecase "Review KPI Charts" as U_KPI

  usecase "Generate Standardized CV" as U_GenerateCV
  usecase "Reprocess Candidate Application" as U_Reprocess

  usecase "Submit CV / Application" as U_Submit
  usecase "Track Application Status" as U_Track
  usecase "Download Standardized CV (Public)" as U_PublicCV
  usecase "Request Job Recommendations" as U_Recommend
  usecase "Integrate with LinkedIn / External Platforms" as U_External
}

' Actor associations (left users, right AI)
HR -right-> U_GDPR
HR -right-> U_ManageCandidates
HR -right-> U_ManageJobs
HR -right-> U_FilterApps
HR -right-> U_ManageSkills
HR -right-> U_Dashboard
HR -right-> U_GenerateCV

C -right-> U_Submit
C -right-> U_Track
C -right-> U_Recommend

AI -left-> U_GenerateCV
AI -left-> U_Recommend
AI -left-> U_Reprocess

' Generalization (structured)
U_UpdateStatus -|> U_ManageCandidates
U_AddNote -|> U_ManageCandidates
U_DownloadResume -|> U_ManageCandidates

U_AddSkill -|> U_ManageSkills
U_UpdateSkill -|> U_ManageSkills
U_DeleteSkill -|> U_ManageSkills

' Include relations
U_ManageJobs ..> U_DefineReq : <<include>>
U_ManageCandidates ..> U_FilterApps : <<include>>
U_Dashboard ..> U_KPI : <<include>>

' Extend relations
U_PublicCV ..> U_Track : <<extend>>
U_Reprocess ..> U_ManageCandidates : <<extend>>
U_Recommend ..> U_External : <<extend>>

' Layout helpers (clean vertical structure)
U_GDPR -[hidden]down-> U_ManageCandidates
U_ManageCandidates -[hidden]down-> U_ManageJobs
U_ManageJobs -[hidden]down-> U_FilterApps
U_FilterApps -[hidden]down-> U_ManageSkills
U_ManageSkills -[hidden]down-> U_Dashboard
U_Dashboard -[hidden]down-> U_GenerateCV

U_Submit -[hidden]down-> U_Track
U_Track -[hidden]down-> U_PublicCV
U_PublicCV -[hidden]down-> U_Recommend

note top of U_GDPR
  Includes consent management,
  data deletion requests,
  access logs, and secure file handling.
end note

note bottom of U_GenerateCV
  Relies on AI model inference
  for scoring, recommendations,
  and standardized CV generation.
end note

note right of AI
  Secondary actor
end note

@enduml
