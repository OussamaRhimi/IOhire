@startuml
title Sprint 3 - Use Case Diagram
left to right direction
skinparam packageStyle rectangle
skinparam shadowing false

actor Visitor as A_Visitor
actor "HR User" as A_HR
actor "AI Service\n(Ollama)" as A_AI

rectangle "IOhire - Sprint 3" {
  package "AI Processing Pipeline" {
    usecase "UC1 - Auto-process Candidate" as UC1
    usecase "UC2 - Extract Resume Text" as UC2
    usecase "UC3 - Parse CV (AI)" as UC3
    usecase "UC4 - Evaluate Fit Score" as UC4
    usecase "UC5 - Generate Standardized CV" as UC5
    usecase "UC6 - Reprocess Candidate" as UC6
  }

  package "CV Templates and PDF" {
    usecase "UC7 - Select CV Template" as UC7
    usecase "UC8 - Download Standardized CV (HR)" as UC8
    usecase "UC9 - Download Standardized CV (Public)" as UC9
  }
}

A_HR --> UC6
A_HR --> UC7
A_HR --> UC8

A_Visitor --> UC9

UC1 ..> UC2 : <<include>>
UC1 ..> UC3 : <<include>>
UC1 ..> UC4 : <<include>>
UC1 ..> UC5 : <<include>>

UC6 ..> UC1 : <<triggers>>

A_AI --> UC3
A_AI --> UC5

@enduml
