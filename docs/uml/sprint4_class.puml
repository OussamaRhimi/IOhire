@startuml
title Sprint 4 - Class Diagram

skinparam classAttributeIconSize 0
skinparam shadowing false
skinparam linetype ortho
left to right direction

class HRUser <<Strapi Admin>> {
  +email: string
  +role: string
}

class Candidate {
  +id: int
  +status: ApplicationStatus
  +score: decimal
  +createdAt: datetime
  +updatedAt: datetime
}

class JobPosting {
  +id: int
  +title: string
  +status: JobPostingStatus
}

class AnalyticsSnapshot <<transient>> {
  +totalJobPostings: int
  +totalCandidates: int
  +averageScore: decimal
  +statusDistribution: json
  +scoreHistogram: json
  +submissionsOverTime: json
}

class BulkStatusCommand <<transient>> {
  +candidateIds: int[*]
  +targetStatus: ApplicationStatus
}

HRUser "1" --> "0..*" Candidate : reviews >
Candidate "*" --> "1" JobPosting : applies to >

BulkStatusCommand ..> Candidate : updates status >
AnalyticsSnapshot ..> Candidate : aggregates >
AnalyticsSnapshot ..> JobPosting : aggregates >

enum ApplicationStatus {
  new
  processing
  processed
  reviewing
  shortlisted
  rejected
  hired
  error
}

enum JobPostingStatus {
  draft
  open
  closed
}

@enduml
